# Design Document

## October 14th, 2019

- The idea of the project is to create a web-app that, in its simplest form, users can save notes. To do this, we will need a way for the user to create an account, log into their account, add notes, and delete notes. Once we have this done, we will expand on it to add more functionality for the user. In the near future, we want to add support for pinning notes, editing notes, and archiving notes. We have to work on the basics first. <br/>
- We will create a homepage where there will be a log-in and create an account using the Google sign-in provision on Firebase. Of course if the user is already logged in, there will be a logout button available for them to press. When a user creates a new account using a new username and a new password, the Firebase database gets updated with a new username and password. This will allow for easy login for the user. In addition to that, to make sure we keep the web-app secure, when the user wants to log in, we will use the OAuth library in Firebase to validate whether the user’s input matches an existing account or not. This will also work to make sure that the user is not a bot. This is crucial because we could end up using valuable database space for something that is not a user. <br/>
- When the user wants to logout, we will be redirecting them to the home page. This is crucial to making sure the web-app is super easy for the user to use. We want to prioritize user interface in the entire app, because it is a notes app. Notes are used to make things easier on people and by making our UI easy, we can contribute to that. We believe this is crucial to getting users for the web-app. <br/>

### Diagram:
<img src ="/images/Team626.jpeg" width="600">  

## October 28th, 2019
- For our first sprint demonstration, we split user stories that were complex into smaller and more manageable tasks in order to achieve a starting point for our Google Keep-like project. One of our splits included our profile logic which used Firebase’s Google Authentication in order to keep track of account data. We started by creating a template react app. Then we imported firebase into our app and pasted the helper functions under our app component. Currently, when our user successfully logs in, our app props retain references to user, signOut, and signInWithGoogle. user holds information on our user’s public details (i.e. name). signOut and signInWithGoogle are functions which we call when our user respectively clicks on our Sign Out and Sign in with Google buttons.
- When our users do interact with these functions, our react state changes, so react efficiently calls render on all of our components. And you can see this with our side navigation tabs updating to allow user interactions as well as their styles changing; this is also true for our current and basic profile card which appears in the middle of the screen to confirm the log in or to request a log in.
- This current version of our app requires further compartmentalizing our code in App.js so that we can render our upcoming screens more efficiently and clearly. To start on our next task which is in dealing with note creating and saving, we would need to start reconstructing some of our code to build such future features.

### Diagram:
<img src ="/images/Team626_1.jpeg" width="500"> 

## November 18th, 2019
- So far we have had to make some adjustments to our user stories. Certain user stories overlapped with one another, such as filter by color and filter by subject, so we combined those. For this second sprint demonstration, we added the registration feature so that the user can create a new account if they don’t have an existing gmail account.
- We began this sprint by developing our homepage for when the user logs in. Over here the user has access to a drop down menu where the user can select to view all their notes, edit notes, archive the notes or trash the notes. The add notes functionality is taken care of in the composer.js file. Here the note can be given a title and a description. These notes are stored in a container which allows individual users to have access to their own individual notes. The delete notes functionality is implemented in our Note.js file in the handleDelete() function. Deleted notes however can still be viewed in the trash tab so it's not permanently deleted until the user decides to completely empty the trash tab which is handled in the Trash.js file. 
- In this sprint, we also incorporated the ability for the user to filter their notes by when they were added and alphabetically. This is handled in the Note.js file with the filterRecent() and filterAlphabetical() functions. In these functions the date associated with the notes or the subject of the notes are compared and then force updated.
- So far we have our UI established pretty well. The users notes are displayed neatly for the user to view. For our next sprint we want to make the archive note, edit note, share notes and pin note features functional.

### Diagram:
<img src ="/images/Team626_2.jpeg" width="1000">  

## December 2nd, 2019
- For our third and final sprint, we accomplished the most amount of work. In this stage we implemented sharing notes, adding tags to notes, searching through notes using those tages, edit notes, pinning notes, archiving notes & uploading images to a note. We added the tags featur and the uploading images feature so that our end product included complex functionalities.
- The sharing notes feature allows the user to share notes with another user via email. If a particular user email doesn't exist then the program throws an error. This functionality is implemented in the Composer.js under the _handleShare()_ function. This function is triggered when the user clicks the button to share a note. Upon clicking the button, the user will be prompted to enter the email with which they want to share the note. The program will then search through the database to see if the user email exists. If it exists, the program will push that note to the receiving users account giving viewing access to that user. The person receiving the shared note can view it but cannot make changes to it. If the creator of the note enters an email that does not exist then the program will throw an error. On our sidebar we have the option to go to a different page where the user can view notes that are shared with them. That functionality is handled in the SharedNotes.js file. These notes can also be sorted alphabeticaly or by date shared.
- The adding/deleting tags feature was handled in the Note.js file with multiple functions. The _handleAddTag()_ function is how we add a tag to a note. Every note object has a "tag" element of strings that gets updated every time a user adds a tag. When a user wants to add a tag the program will search through the database for the target note and then that phrase gets stored as part of the note object as the tag element. That's what happens in the _handleAddTag()_ function. The _handleDeleteTag()_ function allows the user to delete tags from the note. The program searches through the database for the particular note and will remove that tag element from the note object. You can also filter by note tag alphabetically.
- The ability for the user to edit an existing note was also implemented in this sprint which is handeled in our Note.js file and it uses the _handleEdit()_, _handleSubmit()_ and the modal functions. When the edit button on a note is clicked, the _handleEdit()_ function is called. The user is then prompted to perform any edits they want. Once they do that, the modal is opened which is when the _handleSubmit()_ function is prompted. In this function, all the changes to the note are updated. Once that is done, the modal will close.
- Pinning noted (not done yet)
- The archived notes functionality is implemented in Note.js using the _handleArchive()_ function. Every note object is given a boolean isArchived variable. Everytime the user clicks the archive button on the actual note, the isArchived variable is updated to true or false with every click. The _handleArchive()_ function updates the isArchived variable and reflects that in the database. To view our archived notes we have to visit a different page. In the sidebar there is a tab for archived notes and the elements of this tab such as viewing archived notes & sorting those archived notes is implemented in the Archive.js file.
- Lastly, we had an upload image to note functionality. This element is rendered in the Note.js file. When the user clicks on the upload image icon and attaches an image to the note, the _handleEdit()_ function is called which then triggers the _handleSubmit()_ function. This will update the database and add the image as an element of the note object and stores it so that the image is now a part of the note. 

